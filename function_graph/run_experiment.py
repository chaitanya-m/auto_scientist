# run_experiment.py

from data_gen.curriculum import Curriculum

def main(curriculum, mcts_budget: int = 8, steps: int = 15, output_dir: str = "results"):
    """
    Runs experiments for all problems generated by the provided Curriculum.
    
    Arguments:
      curriculum : a Curriculum object that yields Problem instances.
      mcts_budget: search budget for each experiment.
      steps      : number of steps per experiment.
      output_dir : path to save CSV results.
    """
    from experiment_runner import run_experiments
    run_experiments(
        curriculum=curriculum,
        mcts_budget=mcts_budget,
        steps=steps,
        output_dir=output_dir
    )

if __name__ == "__main__":
    from data_gen.problems import AutoencoderProblem
    from experiment_runner import default_curriculum

    # Create a default curriculum using the helper in experiment_runner.py.
    curriculum = default_curriculum(AutoencoderProblem, phase=0, num_problems=2)
    main(curriculum=curriculum)
