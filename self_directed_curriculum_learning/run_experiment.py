# run_experiment.py

from curriculum_generator.curriculum import AutoEncoderCurriculum

def main(
    curriculum: AutoEncoderCurriculum,
    mcts_budget: int = 5,
    steps: int = 10,
    output_dir: str = "results"
):
    """
    Runs experiments for all problems generated by the provided Curriculum.
    
    Arguments:
      curriculum : a Curriculum object that yields Problem instances.
      mcts_budget: search budget for each experiment.
      steps      : number of steps per experiment.
      output_dir : path to save CSV results.
    """
    from experiment_runner import solve_problems
    solve_problems(
        curriculum=curriculum,
        mcts_budget=mcts_budget,
        steps=steps,
        output_dir=output_dir
    )


if __name__ == "__main__":
    from curriculum_generator.problems import AutoEncoderProblem

    # Create a default curriculum via the class factory
    curriculum = AutoEncoderCurriculum.default(
        problem_cls=AutoEncoderProblem,
        initial_difficulty=0,
        num_problems=10
    )
    main(curriculum=curriculum)
