# run_experiment.py

from curriculum_generator.curriculum import Curriculum

def main(
    curriculum: Curriculum,
    mcts_budget: int = 5,
    steps: int = 10,
    output_dir: str = "results"
):
    """
    Runs experiments for all problems generated by the provided Curriculum.
    
    Arguments:
      curriculum : a Curriculum object that yields Problem instances.
      mcts_budget: search budget for each experiment.
      steps      : number of steps per experiment.
      output_dir : path to save CSV results.
    """
    from experiment_runner import run_experiments
    run_experiments(
        curriculum=curriculum,
        mcts_budget=mcts_budget,
        steps=steps,
        output_dir=output_dir
    )


if __name__ == "__main__":
    from curriculum_generator.problems import AutoencoderProblem

    # Create a default curriculum via the class factory
    curriculum = Curriculum.default(
        problem_cls=AutoencoderProblem,
        initial_difficulty=0,
        num_problems=2
    )
    main(curriculum=curriculum)
